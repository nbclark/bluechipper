<html>
<head>
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
  <link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
  <script type='text/javascript' src='bluechipper.js'></script>
  <script type='text/javascript' src='player.js'></script>
  <script type='text/javascript' src='button.js'></script>
  <script type='text/javascript' src='menu.js'></script>
  <script type='text/javascript' src='hand.js'></script>
  <script type='text/javascript' src='pot.js'></script>
  <script type='text/javascript' src='bridge.js'></script>
  <script type='text/javascript' src='table.js'></script>

  <script>
    window.onerror = function (errorMsg, url, lineNumber) {
        alert('Error: ' + errorMsg + ' Script: ' + url + ' Line: ' + lineNumber);
    }
    
    var bridge = new BC.bridge()
    var table = new BC.table(bridge)
    document.body.appendChild(table.el)
    
    if(navigator.userAgent.indexOf('Chrome') >= 0) {
      var state = {"isActive":true,"buttonIndex":0,"players":[{"id":"nVIYXnHnbt","name":"iPhone Simulator","isActive":true,"isPaused":false,"isInHand":true,"isCurrentUser":true,"purse":97}],"hand":{"dealerButtonIndex":0,"smallBlindIndex":0,"bigBlindIndex":0,"actionIndex":0,"totalBet":2,"totalPot":3,"lastRaise":2,"lastRaiserIndex":0,"round":0,"players":[{"id":"nVIYXnHnbt","name":"iPhone Simulator","isActive":true,"isPaused":false,"isInHand":true,"isCurrentUser":true,"purse":97}],"playerActions":{"0":{"bet":3,"totalBet":3}}}}
      
      // table.loadState(state)

      for (var i = 0; i < 6; ++i) {
        table.addPlayer(i, i+1, 100, '../no-face.png')
      }
      
      // This one can be super optional
      table.randomizePlayers()
      table.layoutPlayers()
      table.startGame()
      // setTimeout(function() {
      //   table.loadState(state)
      // }, 1000)
      /*
      setTimeout(function() {
        var s = table.getState()
        console.log(s)
        
        setTimeout(function() {
          console.log(s)
          table.loadState(s)
        }, 1000)
      }, 5000)
      */
    }
    
    window['table'] = table
    
    window.addEventListener('resize', function() {
      //table.layoutPlayers()
    })

  </script>
</body>
</html>
